# ContentFlow End-to-End User Flow (MVP Focus, based on Payper)

> **Note on 3-Week MVP Scope:** While these flows describe the comprehensive Payper-like user experience based on the provided UI, the initial 3-week MVP will focus on implementing only the most critical backend APIs and UI connections for core registration, campaign creation (Brand), campaign discovery (Clipper), and content submission (Clipper). Many features detailed here (e.g., full OTP, live social data fetching, advanced dashboards, messaging) will have simplified placeholders or manual backend processes for the 3-week deliverable.

This document details the end-to-end user journeys for the ContentFlow MVP, drawing inspiration from the Payper application flow analysis. It focuses on core interactions for both Brand and Clipper user roles.

## Scenario 1: New User Registration & Onboarding (Clipper Role Focus)

This flow focuses on a Clipper user, as the social account connection (TikTok) is most pertinent to them for content distribution and view tracking. Brand onboarding would be simpler, focusing on profile and payment setup (which is placeholder for MVP).

| User Action                                                                                                      | System Response                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| :--------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1. Opens the ContentFlow app for the first time.                                                                 | Displays `LaunchScreen` with `"Get Started"` and `"Login"` options.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 2. Taps `"Get Started"`.                                                                                           | Navigates to `SignupScreen`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 3. Enters email address, password, confirms password, selects `"Clipper"` role, and checks `"Agree to Terms"`.     | Input fields update. `"Sign Up"` button becomes active once all required fields are valid.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 4. Taps `"Sign Up"`.                                                                                               | System validates input.<br>(MVP Simplification from Payper: Instead of direct OTP, we might go to a `"Verify Email"` screen, asking the user to click a link in an email. For this flow, let's assume a simplified OTP-like step for now, as per Payper's direct model, though actual OTP infra is post-MVP).<br>Sends account creation request to backend.<br>Backend sends an OTP (One-Time Password) to the provided email (or simulates this for MVP).<br>Navigates to an `OTPScreen` with an input field for the OTP.<br>Displays "Enter the code sent to your email."<br>> **MVP Note:** For the initial MVP, OTP delivery might be simulated or use email verification. Full SMS/authenticator app OTP integration is a post-MVP enhancement. |
| 5. Retrieves OTP from their email and enters it into the OTP input field.                                        | Input field updates. `"Verify"` button becomes active.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 6. Taps `"Verify"`.                                                                                                | Sends OTP to backend for verification.<br>If OTP is correct: Account is verified. User is logged in.<br>Navigates to a `"Connect Social Account"` or `"Profile Setup"` screen. For Clipper, this is crucial. Let's call it `ConnectSocialScreen_Clipper`.<br>Displays `"Connect your TikTok account to find campaigns and track views."`                                                                                                                                                                                                                                                           |
| 7. **(Connect TikTok):** Taps `"Connect TikTok Account"`.                                                          | > **External Interaction:** This step involves redirecting the user to TikTok's authentication system.<br>Initiates TikTok connection flow.<br>Opens a **WebView** or redirects to the TikTok app (if installed and deep linking is supported) for authorization.<br>Displays TikTok's official login/authorization page.                                                                                                                                                                                                                                                                       |
| 8. **(TikTok Authorization - Step 1):** Enters TikTok credentials on TikTok's page (if not already logged in on TikTok). | (TikTok's page): TikTok processes login.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 9. **(TikTok Authorization - Step 2):** Reviews permissions ContentFlow is requesting. Taps "Authorize" on TikTok's page. | (TikTok's page): TikTok processes authorization, generates an auth code/token.<br>Redirects back to the ContentFlow app (via deep link or WebView redirect URI).                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 10. **(ContentFlow app):**                                                                                       | Receives authorization code/token from TikTok.<br>Sends this to the backend to securely store the connection and any necessary tokens.<br>`ConnectSocialScreen_Clipper` updates to show `"TikTok Account Connected: @[tiktok_username]"`.<br>Optionally, displays a `"Continue to Dashboard"` button.<br>> **Key Outcome:** Clipper's TikTok account is now linked, enabling campaign applications and future content tracking.                                                                                                                                                                |
| 11. Taps `"Continue to Dashboard"`.                                                                                | Navigates to `ClipperDashboardScreen_BrowseCampaigns`. Onboarding is complete for core functionality.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

## Scenario 2: Clipper Explores & Applies for Campaigns

| User Action                                                                                             | System Response                                                                                                                                                                                                                                                                                                                                                                                       |
| :------------------------------------------------------------------------------------------------------ | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1. **(Clipper):** Is on `ClipperDashboardScreen_BrowseCampaigns`.                                           | Displays a list of available campaigns, filter/sort options.                                                                                                                                                                                                                                                                                                                                          |
| 2. Scrolls through campaigns, uses search/filter/sort options (e.g., filters by `"Gaming"` niche).        | Campaign list updates dynamically based on criteria.                                                                                                                                                                                                                                                                                                                                                  |
| 3. Taps on a campaign from the list.                                                                    | Navigates to `ClipperCampaignDetailsScreen` for the selected campaign, displaying detailed brief, payout structure, brand info, etc.                                                                                                                                                                                                                                                                 |
| 4. Reviews campaign details. Taps `"Apply to this Campaign"`.                                             | Sends application request to backend.<br>Button changes to `"Applied"` or shows a confirmation message (e.g., `"Application Sent!"`).<br>(MVP: Auto-approval or simple brand notification. Clipper might be able to proceed to submit content if auto-approved, or wait for brand approval).<br>For this flow, assume they can proceed or are notified later.<br>> **User Feedback:** The system should provide clear immediate feedback, like changing the button state to `"Applied"` or showing a success message. |
| 5. Navigates back to `ClipperDashboardScreen_BrowseCampaigns` or to `ClipperMyWorkScreen_Earnings`.       | If navigating to `ClipperMyWorkScreen_Earnings`, the applied campaign might appear in a `"Pending Approval"` or `"Active Projects"` section.                                                                                                                                                                                                                                                              |

## Scenario 3: Brand Creates & Manages a Campaign

| User Action                                                                                                | System Response                                                                                                                                                                                                                                                                                                                                                                                          |
| :--------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1. **(Brand):** Is on `BrandDashboardScreen`.                                                                | Displays quick stats, list of active campaigns, `"Create New Campaign"` button.                                                                                                                                                                                                                                                                                                                            |
| 2. Taps `"Create New Campaign"`.                                                                             | Navigates to `CampaignCreationScreen`.                                                                                                                                                                                                                                                                                                                                                                     |
| 3. Fills out campaign details (title, footage links/uploads, brief, budget, etc.).                           | Form updates. Validation errors might show if input is incorrect.                                                                                                                                                                                                                                                                                                                                        |
| 4. Taps `"Launch Campaign"`.                                                                                 | Sends campaign creation request to backend.<br>Backend validates and stores campaign.<br>Navigates back to `BrandDashboardScreen`.<br>The new campaign appears in the `"Active Campaigns"` list.<br>> **Important:** Once launched, the campaign becomes visible to eligible Clippers in the Explore section.                                                                                             |
| 5. **(Later):** Taps on an active campaign from their dashboard.                                             | Navigates to `ViewSubmittedClipsScreen` for that campaign.                                                                                                                                                                                                                                                                                                                                               |
| 6. Reviews submitted clips (if any). Uses filter/sort (e.g., filter by `"Pending Review"`).                  | List of submitted clips updates.                                                                                                                                                                                                                                                                                                                                                                         |
| 7. Taps `"Approve"` on a submitted clip.                                                                     | Sends approval to backend.<br>Clip status updates in the list (e.g., moves to `"Approved"`).<br>(Notification might be sent to the Clipper).                                                                                                                                                                                                                                                             |

## Scenario 4: Clipper Submits Content & Checks Earnings

| User Action                                                                                                                              | System Response                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| :--------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1. **(Clipper):** Has an approved/active campaign. Navigates to `ClipperCampaignDetailsScreen` for that campaign or directly to `SubmitEditedContentScreen` if that flow is enabled post-approval. | If from details, shows campaign info.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 2. Taps `"Submit Content"` (if on details screen) or is already on `SubmitEditedContentScreen`.                                            | Displays `SubmitEditedContentScreen`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 3. Uploads edited video, provides direct links to social media posts, adds notes (optional), confirms originality.                        | Form updates. File upload progress might be shown.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 4. Taps `"Submit Content"` button on the form.                                                                                           | Sends submission data (including video URL from object storage and social links) to backend.<br>Backend validates and stores submission.<br>Navigates to `ClipperMyWorkScreen_Earnings`.<br>The new submission appears in the `"My Submissions"` list, likely with a `"Pending Review"` status.                                                                                                                                                                                                                                                                                              |
| 5. **(Later):** Brand reviews and approves the content. Admin verifies views (MVP manual process).                                         | **(Asynchronous):** Backend updates submission status to `"Approved"`, view counts are updated, and earnings are calculated.<br>> **MVP Process Note:** View verification and subsequent earnings calculation involve manual admin steps in the MVP. Automation is a key area for future improvement.                                                                                                                                                                                                                                                                                          |
| 6. **(Clipper):** Navigates to `ClipperMyWorkScreen_Earnings`.                                                                             | `"My Submissions"` list shows updated status (e.g., `"Approved"`), verified views, and estimated earnings for the submission.<br>`"Earnings Overview"` section updates pending payout amount.                                                                                                                                                                                                                                                                                                                                                                                                          |

## Scenario 5: General App Interactions (Both Roles)

### 5.1. Accessing Profile & Settings

| User Action                                                                                               | System Response                                                                                                                                                                                                                                                             |
| :-------------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1. Taps profile icon/button from a main screen (e.g., Dashboard).                                         | Navigates to `BrandProfileScreen` or `ClipperProfileScreen`.                                                                                                                                                                                                                |
| 2. **(Clipper):** On `ClipperProfileScreen`, views connected TikTok account.                                | Displays `"@[tiktok_username]"` and a `"Disconnect"` option.                                                                                                                                                                                                                |
| 3. Taps `"Settings"` (if accessible from Profile screen or a main tab).                                     | Navigates to a generic `SettingsScreen`.<br>Displays options like `"Account Information"`, `"Notifications"`, `"Privacy"`, `"Logout"`.                                                                                                                                    |
| 4. Taps `"Logout"`.                                                                                         | Logs user out, clears local session data, navigates to `LaunchScreen`.<br>> **Security Note:** Upon logout, ensure all local session data and sensitive user information are cleared from the device.                                                                               |

### 5.2. Messaging (Basic MVP)

| User Action                                                                                               | System Response                                                                                                                                                                                                                                                             |
| :-------------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1. Taps "Messages" tab from TabBar or a chat icon on a dashboard.                                         | Navigates to `BrandMessagesScreen` or `ClipperMessagesScreen`.<br>Displays a list of active chats related to campaigns.                                                                                                                                                       |
| 2. Taps on a chat.                                                                                        | Opens a `ChatDetailScreen` with message history for that specific Brand-Clipper interaction regarding a campaign.                                                                                                                                                             |
| 3. Types and sends a message.                                                                               | Message appears in `ChatDetailScreen`, sent to backend, and delivered to the other user (potentially with a push notification).                                                                                                                                           |

### 5.3. My Campaigns Filtering (Brand)

| User Action                                                                                                | System Response                                                                                                                                                                                                                                                             |
| :-------------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1. **(Brand):** On `BrandDashboardScreen` or a dedicated `MyCampaignsScreen`.                               | Lists campaigns, shows filter options (e.g., `"In Progress"`, `"Finished"`, `"Discarded"`, `"All"`).                                                                                                                                                                    |
| 2. Taps a filter option, e.g., `"Finished"`.                                                                | The list of campaigns updates to show only campaigns with `"Finished"` status.                                                                                                                                                                                              |

This text-based flow provides a detailed walkthrough of key MVP interactions, aligning with the Payper analysis where applicable (especially OTP, social connect, campaign management views).
